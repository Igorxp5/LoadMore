"use strict";function classLm(){this.i=lm.i}Element.prototype.loadMore=function(e){return"object"==typeof e?(lm.init(this,e),new classLm):void lm.clError("The parameters must be object.")};var lm={c:{data:"",itemsInit:1,itemsPerLoad:1,elementForLoad:"",baseElement:"",localInput:{},minDelay:1e3,onClickForLoad:function(){},onLoad:function(){},onCompleted:function(){}},i:{data:"",attributeForKeys:"data-loadmore",getJSON:function(e,t,o){var r="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");r.open("get",e,!0),r.onreadystatechange=function(){var e,n;4==r.readyState&&(e=r.status,200==e?(n=JSON.parse(r.responseText),t&&t(n)):o&&o(e))},r.send()}},sF:{search:function(e,t){if(!(Object.keys(t).length>0))return e;var o=[];for(var r in e){var n=e[r],l=0;for(var a in t){if(n[a]!=t[a])break;l++,l==Object.keys(t).length&&o.push(n)}}return 0==o.length?-1:o},severalSplice:function(e,t){var o=e;for(var r in t){var n=o.indexOf(t[r]);-1!=n&&o.splice(n,1)}return o}},init:function(e,t){if(lm.c.el=e,t)for(var o in t)lm.c.hasOwnProperty(o)&&(lm.c[o]=t[o]);lm.adjustmentsInVar(),lm.createBaseElement(),"object"==lm.c.data?(lm.i.data=lm.c.data,lm.initConfigs()):lm.getArray()},adjustmentsInVar:function(){if("string"==typeof lm.c.elementForLoad&&""!=lm.c.elementForLoad&&(lm.c.elementForLoad=document.querySelector(lm.c.elementForLoad),lm.c.elementForLoad||lm.clError("The element setted to 'elementForLoad' doesn't exist.")),"number"!=typeof lm.c.minDelay&&lm.clError("The minDelay property must be of number type."),"string"!=typeof lm.c.baseElement&&"object"!=typeof lm.c.baseElement&&(lm.c.baseElement||lm.clError("The element to 'baseElement' wasn't setted.")),"string"==typeof lm.c.baseElement&&(lm.c.baseElement=document.querySelector(lm.c.baseElement),lm.c.baseElement||lm.clError("The element setted to 'baseElement' doesn't exist.")),"number"!=typeof lm.c.itemsInit&&lm.clError("The itemsInit property must be of number type."),"number"!=typeof lm.c.itemsPerLoad&&lm.clError("The itemsPerLoad property must be of number type."),"string"!=typeof lm.c.data&&"object"!=typeof lm.c.data&&lm.clError("The data property must be of number type or string type(url)."),-1==lm.c.data.search("http")){var e=document.location;lm.c.data=e+"/"+lm.c.data}},initConfigs:function(){lm.loadMore({},lm.c.itemsInit),lm.insertOns()},getArray:function(){lm.i.getJSON(lm.c.data,function(e){lm.i.data=e,lm.initConfigs()},function(){lm.clError("Couldn't get the data of the file: "+lm.c.data)})},createBaseElement:function(){lm.i.baseElement=lm.c.baseElement.cloneNode(!0),lm.i.baseElement.removeAttribute("id"),lm.c.baseElement.remove()},insertNewValuesOnHTML:function(e){lm.c.el.innerHTML+=e,0==this.i.remainderData.length&&lm.c.onCompleted()},insertOns:function(){return lm.c.elementForLoad&&""!=lm.c.elementForLoad?void(lm.c.elementForLoad.onclick=function(){lm.loadMore(),lm.c.onClickForLoad()}):!1},loadMore:function(e,t,o,r){var n=void 0==this.i.remainderData?this.i.data:this.i.remainderData,l=document.createElement("div");if(void 0==n||"object"!=typeof n)return!1;if(0==n.length)return!1;(void 0==e||"object"!=typeof e)&&(e={}),(void 0==t||"number"!=typeof t)&&(t=lm.c.itemsPerLoad),(void 0==o||"object"!=typeof o)&&(o=lm.c.localInput),(void 0==r||"number"!=typeof r)&&(r=lm.c.minDelay);var a;if(Object.keys(e).length>0){var i=lm.sF.search(n,e);a=-1!=i?i:n}else a=n;for(var m=[],c=0;t>c;c++){var s=a[c];m.push(s);var d=lm.i.baseElement.cloneNode(!0);for(var u in a[c]){var f=d.querySelector("*["+lm.i.attributeForKeys+"="+u+"]");if(f)if(f.removeAttribute(lm.i.attributeForKeys),void 0!=o[u])if("array"==typeof o[u])for(var p in o[u]){var b=o[u][p];f.setAttribute(b,s[u])}else"string"==typeof o[u]&&f.setAttribute(o[u],s[u]);else f.innerHTML=s[u]}l.appendChild(d)}this.i.remainderData=lm.sF.severalSplice(n,m),setTimeout(function(){lm.insertNewValuesOnHTML(l.innerHTML,a.length),lm.c.onLoad()},r)},clError:function(e){throw new Error("loadMore - "+e)}};classLm.prototype.loadMore=function(e,t,o,r){"object"!=typeof this.i.data?this.i.getJSON(this.i.data,function(n){this.i.data=n,lm.loadMore(e,t,o,r)},function(){console.error("loadMore - Couldn't get the data of the file: "+this.i.data)}):lm.loadMore(e,t,o,r)};